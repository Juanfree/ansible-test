version: '3.6'

networks:
  ansible:
    external: false

services:
  ansible:
    build:
      context: .
      dockerfile: ./docker/ansible/Dockerfile
    volumes:
      - ./docker/ansible/rootfs/opt/entrypoint.sh:/opt/entrypoint.sh
      - ./docker/shared/ssh/:/home/ansible/.ssh
      - ./docker/ansible/rootfs/etc/ansible/hosts:/etc/ansible/hosts
    entrypoint: bash
    networks:
      - ansible